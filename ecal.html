<!DOCTYPE html>
<html lang="id" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dasbor & Demo Proyek Skripsi - Sistem Rekomendasi Musik</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FFFCF5;
            color: #4A4A4A;
        }
        .nav-link {
            transition: color 0.3s, border-bottom-color 0.3s;
            border-bottom: 2px solid transparent;
        }
        .nav-link:hover, .nav-link.active {
            color: #4A90E2;
            border-bottom-color: #4A90E2;
        }
        .tab-button {
            transition: all 0.3s ease;
        }
        .tab-button.active {
            background-color: #4A90E2;
            color: white;
        }
        .card {
            background-color: #FFFFFF;
            border: 1px solid #EAEAEA;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.08);
        }
        .chart-container-eval {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 50vh;
        }
        @media (min-width: 768px) {
            .chart-container-eval {
                height: 400px;
            }
        }
        .flow-diagram > div {
            border: 2px solid #EAEAEA;
            background-color: #FAFAFA;
        }
        .flow-diagram .arrow {
            color: #4A90E2;
            font-weight: bold;
        }
        .file-tree ul {
            padding-left: 1.5rem;
            border-left: 1px solid #D1D5DB;
        }
        .file-tree li {
            position: relative;
            padding-left: 1rem;
        }
        .file-tree li::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0.7rem;
            width: 0.75rem;
            height: 1px;
            background-color: #D1D5DB;
        }
        .file-tree .icon {
            margin-right: 0.5rem;
        }
        
        /* Demo specific styles */
        [data-view] { display: none; }
        [data-view].active { display: block; }
        .song-card { transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out; }
        .song-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }
        .modal-backdrop { transition: opacity 0.3s ease; }
        .modal-content { transition: transform 0.3s ease; }
        .chart-container-demo {
            position: relative; 
            height: 350px; 
            width: 100%;
            max-width: 600px;
            margin: auto;
        }
        .demo-nav-link { transition: color 0.3s; }
        .demo-nav-link.active { color: #3b82f6; font-weight: 600; }
    </style>
</head>
<body class="antialiased">

    <header class="bg-white/80 backdrop-blur-lg sticky top-0 z-50 shadow-md">
        <nav class="container mx-auto px-6 py-3">
            <div class="flex justify-between items-center">
                <div class="text-xl font-bold text-gray-800">Proyek Skripsi</div>
                <div class="hidden md:flex space-x-8">
                    <a href="#metodologi" class="nav-link py-2">Metodologi</a>
                    <a href="#arsitektur" class="nav-link py-2">Arsitektur</a>
                    <a href="#alur-pengguna" class="nav-link py-2">Alur Pengguna</a>
                    <a href="#evaluasi" class="nav-link py-2">Evaluasi</a>
                    <a href="#deployment" class="nav-link py-2">Deployment</a>
                    <a href="#demo" class="nav-link py-2 font-bold text-blue-600">Demo Aplikasi</a>
                </div>
                <div class="md:hidden">
                    <select id="main-mobile-nav" class="bg-gray-200 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5">
                        <option value="#home">Menu Utama</option>
                        <option value="#metodologi">Metodologi</option>
                        <option value="#arsitektur">Arsitektur</option>
                        <option value="#alur-pengguna">Alur Pengguna</option>
                        <option value="#evaluasi">Evaluasi</option>
                        <option value="#deployment">Deployment</option>
                        <option value="#demo">Demo Aplikasi</option>
                    </select>
                </div>
            </div>
        </nav>
    </header>

    <main id="home" class="container mx-auto px-6 py-12">

        <section class="text-center mb-20">
            <h1 class="text-4xl md:text-5xl font-bold mb-4 text-[#3D405B]">Sistem Rekomendasi Musik</h1>
            <p class="text-lg md:text-xl text-gray-600 max-w-3xl mx-auto">Sebuah Rencana Proyek Interaktif untuk Skripsi "Sistem Rekomendasi Untuk Pemilihan Musik Menggunakan Metode Knowledge-Based Recommendation"</p>
        </section>

        <section id="metodologi" class="py-16">
            <h2 class="text-3xl font-bold text-center mb-2 text-[#3D405B]">Metodologi Inti: KBRS Hibrida</h2>
            <p class="text-center text-gray-600 mb-12 max-w-3xl mx-auto">
                Proyek ini mengusulkan model Knowledge-Based Recommendation System (KBRS) hibrida yang canggih untuk mengatasi skenario pengguna yang berbeda. Pendekatan ini secara cerdas menangani masalah 'cold-start' untuk pengguna baru sambil memberikan personalisasi mendalam untuk pengguna terdaftar.
            </p>
            <div class="grid md:grid-cols-2 gap-8">
                <div class="card p-6 rounded-lg">
                    <h3 class="text-2xl font-bold mb-4 text-[#4A90E2]">Untuk Tamu: Constraint-Based</h3>
                    <p class="mb-6">Sistem merekomendasikan lagu dengan menerjemahkan input sementara pengguna (mood, aktivitas) menjadi batasan eksplisit. Ini cepat, transparan, dan tidak memerlukan riwayat pengguna.</p>
                </div>
                <div class="card p-6 rounded-lg">
                    <h3 class="text-2xl font-bold mb-4 text-[#81B29A]">Untuk User: Decision Tree</h3>
                    <p class="mb-6">Untuk pengguna terdaftar, sistem 'mempelajari' preferensi mereka dengan melatih model Decision Tree. Model ini mengubah riwayat rating menjadi serangkaian aturan IF-THEN yang dapat diinterpretasikan.</p>
                </div>
            </div>
        </section>

        <section id="arsitektur" class="py-16">
            <h2 class="text-3xl font-bold text-center mb-2 text-[#3D405B]">Arsitektur & Tumpukan Teknologi</h2>
            <p class="text-center text-gray-600 mb-12 max-w-3xl mx-auto">
                Aplikasi ini dirancang dengan arsitektur multi-tier yang terpisah untuk skalabilitas dan kemudahan pemeliharaan. Setiap lapisan memiliki tanggung jawab yang jelas, didukung oleh teknologi modern yang dipilih secara spesifik untuk proyek ini.
            </p>
            <div class="card p-8 rounded-lg">
                 <h3 class="text-2xl font-bold text-center mb-8">Arsitektur Sistem 4-Tier</h3>
                <div class="flow-diagram flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0 md:space-x-4 text-center">
                    <div class="p-4 rounded-lg w-full md:w-1/4"><div class="text-2xl mb-2">üñ•Ô∏è</div><h4 class="font-bold">Frontend</h4><p class="text-xs">React & Tailwind</p></div>
                    <div class="arrow text-2xl transform md:-rotate-0">&rarr;</div>
                    <div class="p-4 rounded-lg w-full md:w-1/4"><div class="text-2xl mb-2">‚öôÔ∏è</div><h4 class="font-bold">Backend API</h4><p class="text-xs">Python & FastAPI</p></div>
                    <div class="arrow text-2xl transform md:-rotate-0">&rarr;</div>
                    <div class="p-4 rounded-lg w-full md:w-1/4"><div class="text-2xl mb-2">üß†</div><h4 class="font-bold">ML Service</h4><p class="text-xs">Scikit-learn</p></div>
                    <div class="arrow text-2xl transform md:-rotate-0">&rarr;</div>
                    <div class="p-4 rounded-lg w-full md:w-1/4"><div class="text-2xl mb-2">üóÑÔ∏è</div><h4 class="font-bold">Database</h4><p class="text-xs">PostgreSQL</p></div>
                </div>
            </div>
        </section>

        <section id="alur-pengguna" class="py-16">
            <h2 class="text-3xl font-bold text-center mb-2 text-[#3D405B]">Desain Alur Kerja Pengguna</h2>
            <p class="text-center text-gray-600 mb-12 max-w-3xl mx-auto">
                Sistem ini melayani tiga peran pengguna yang berbeda, masing-masing dengan alur kerja yang dirancang khusus untuk memenuhi kebutuhan fungsional mereka. Gunakan tab di bawah untuk menjelajahi perjalanan setiap pengguna.
            </p>
            <div class="card p-6 sm:p-8 rounded-lg">
                <div class="mb-6 flex justify-center border-b border-gray-200">
                    <button class="tab-button active py-2 px-6 font-medium" data-tab="guest">Tamu</button>
                    <button class="tab-button py-2 px-6 font-medium" data-tab="user">User</button>
                    <button class="tab-button py-2 px-6 font-medium" data-tab="admin">Admin</button>
                </div>
                <div id="tab-content">
                    <div class="tab-pane active" id="guest-content"></div>
                    <div class="tab-pane hidden" id="user-content"></div>
                    <div class="tab-pane hidden" id="admin-content"></div>
                </div>
            </div>
        </section>

        <section id="evaluasi" class="py-16">
            <h2 class="text-3xl font-bold text-center mb-2 text-[#3D405B]">Rencana Evaluasi Kinerja</h2>
            <p class="text-center text-gray-600 mb-12 max-w-3xl mx-auto">
                Evaluasi sistem akan dilakukan secara komprehensif, menggabungkan metrik kuantitatif, kualitatif, dan survei kepuasan pengguna.
            </p>
            <div class="card p-6 sm:p-8 rounded-lg">
                <div class="chart-container-eval">
                    <canvas id="evaluationChart"></canvas>
                </div>
            </div>
        </section>

        <section id="deployment" class="py-16">
            <h2 class="text-3xl font-bold text-center mb-2 text-[#3D405B]">Pengemasan & Deployment Akhir</h2>
            <p class="text-center text-gray-600 mb-12 max-w-3xl mx-auto">
                Seluruh aplikasi akan dikemas menggunakan Docker untuk memastikan proyek dapat berjalan secara mandiri dan offline di mesin penguji dengan satu perintah sederhana.
            </p>
            <div class="card p-6 rounded-lg">
                <h3 class="text-xl font-bold mb-4">Struktur Final Proyek di CD</h3>
                <div class="p-4 bg-gray-800 text-white rounded-md font-mono text-sm file-tree">
                    <span><span class="icon">üìÅ</span>/</span>
                    <ul><li><span class="icon">üìÑ</span>docker-compose.yml</li><li><span class="icon">üöÄ</span>start-project.bat/.sh</li><li><span class="icon">‚ÑπÔ∏è</span>README.md</li></ul>
                </div>
            </div>
        </section>

        <!-- DEMO SECTION -->
        <section id="demo" class="py-16">
             <div class="text-center">
                <h2 class="text-3xl font-bold mb-2 text-[#3D405B]">Demo Aplikasi Interaktif</h2>
                 <p class="text-center text-gray-600 mb-12 max-w-3xl mx-auto">
                    Rasakan pengalaman langsung menggunakan aplikasi. Pilih peran (Tamu, Pengguna, atau Admin) di bawah ini untuk memulai.
                </p>
            </div>
            
            <div class="bg-white/80 backdrop-blur-md z-40 shadow-sm rounded-t-lg border-b">
                <nav class="container mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="flex items-center justify-center h-16">
                        <div class="flex items-baseline space-x-4">
                            <a href="#" class="demo-nav-link active px-3 py-2 rounded-md text-sm font-medium" data-nav="guest-view">Tamu</a>
                            <a href="#" class="demo-nav-link px-3 py-2 rounded-md text-sm font-medium" data-nav="user-view">Pengguna</a>
                            <a href="#" class="demo-nav-link px-3 py-2 rounded-md text-sm font-medium" data-nav="admin-view">Admin</a>
                        </div>
                    </div>
                </nav>
            </div>

            <div class="bg-gray-100 p-4 sm:p-8 rounded-b-lg shadow-inner">
                 <!-- Guest View -->
                <div id="guest-view" data-view class="active">
                    <div class="bg-white rounded-xl shadow-lg p-8 text-center max-w-4xl mx-auto">
                        <h2 class="text-3xl font-bold mb-2">Temukan Musik Sesuai Suasana Hatimu!</h2>
                        <p class="text-gray-600 mb-8">Tidak perlu login, cukup beritahu kami apa yang kamu rasakan.</p>
                        <div class="grid sm:grid-cols-2 gap-6 max-w-lg mx-auto mb-6">
                            <div>
                                <label for="guest-mood" class="block mb-2 text-sm font-medium text-gray-900 text-left">Pilih Mood:</label>
                                <select id="guest-mood" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5">
                                    <option>Semangat</option><option>Santai</option><option>Sedih</option><option>Fokus</option>
                                </select>
                            </div>
                            <div>
                                <label for="guest-genre" class="block mb-2 text-sm font-medium text-gray-900 text-left">Pilih Genre:</label>
                                <select id="guest-genre" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5">
                                    <option>Pop</option><option>Rock</option><option>Pop Punk</option><option>Metal</option><option>Hip-Hop</option>
                                </select>
                            </div>
                        </div>
                        <button id="get-guest-recs" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-full transition duration-300">Dapatkan Rekomendasi</button>
                    </div>

                    <div id="guest-results" class="mt-10 max-w-6xl mx-auto hidden">
                        <h3 class="text-2xl font-bold mb-6 text-center">Berikut Rekomendasi Untukmu!</h3>
                        <div id="guest-recommendations-grid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"></div>
                    </div>
                </div>

                <!-- User View -->
                <div id="user-view" data-view>
                    <div class="bg-white rounded-xl shadow-lg p-8">
                        <h3 class="text-2xl font-bold mb-6 border-b pb-4">Rekomendasi Personal Untukmu</h3>
                        <p class="text-gray-600 mb-6">Berdasarkan riwayat rating dan preferensi genre Rock, kami pikir kamu akan suka ini:</p>
                        <div id="user-recommendations-grid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"></div>
                         <h3 class="text-2xl font-bold mb-6 border-b pb-4 mt-12">Jelajahi & Beri Rating</h3>
                         <div id="user-explore-grid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"></div>
                    </div>
                </div>

                <!-- Admin View -->
                <div id="admin-view" data-view>
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        <div class="bg-white rounded-xl shadow-lg p-8">
                            <h3 class="text-2xl font-bold mb-6">Manajemen Data Musik</h3>
                            <div class="overflow-x-auto">
                                <table class="w-full text-sm text-left text-gray-500">
                                    <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                                        <tr><th scope="col" class="px-6 py-3">Judul</th><th scope="col" class="px-6 py-3">Artis</th><th scope="col" class="px-6 py-3">Aksi</th></tr>
                                    </thead>
                                    <tbody id="admin-music-table"></tbody>
                                </table>
                            </div>
                        </div>
                        <div class="bg-white rounded-xl shadow-lg p-8">
                            <h3 class="text-2xl font-bold mb-6 text-center">Laporan Statistik Minat Genre</h3>
                            <div class="chart-container-demo">
                                <canvas id="genre-chart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-gray-800 text-white mt-16">
        <div class="container mx-auto px-6 py-4 text-center">
            <p>&copy; 2025 Rencana Proyek Skripsi. Dibuat sebagai visualisasi interaktif.</p>
        </div>
    </footer>

    <!-- Modal -->
    <div id="modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4 hidden modal-backdrop">
        <div class="bg-white rounded-lg shadow-xl p-6 w-full max-w-sm text-center modal-content scale-95">
            <h4 id="modal-title" class="text-xl font-bold mb-4">Pemberitahuan</h4>
            <p id="modal-message" class="text-gray-600 mb-6">Pesan modal.</p>
            <button id="modal-close" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-full">Tutup</button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // --- MAIN PAGE SCROLL NAVIGATION ---
            const mainMobileNav = document.getElementById('main-mobile-nav');
            mainMobileNav.addEventListener('change', (e) => {
                const targetId = e.target.value;
                if(targetId) {
                    const targetElement = document.querySelector(targetId);
                    if(targetElement) window.scrollTo({ top: targetElement.offsetTop - 70, behavior: 'smooth' });
                }
            });

            const mainNavLinks = document.querySelectorAll('header .nav-link');
            const mainSections = document.querySelectorAll('main > section');
            
            window.addEventListener('scroll', () => {
                let current = '';
                mainSections.forEach(section => {
                    if (pageYOffset >= section.offsetTop - 80) current = section.getAttribute('id');
                });
                mainNavLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href').includes(current)) link.classList.add('active');
                });
            });

            const tabs = document.querySelectorAll('.tab-button');
            const panes = document.querySelectorAll('.tab-pane');
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const targetPaneId = tab.getAttribute('data-tab') + '-content';
                    tabs.forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    panes.forEach(pane => pane.classList.toggle('hidden', pane.id !== targetPaneId));
                });
            });

            // --- EVALUATION CHART (MAIN PAGE) ---
            const ctxEval = document.getElementById('evaluationChart').getContext('2d');
            new Chart(ctxEval, {
                type: 'bar', data: { labels: ['Precision@10', 'Recall@10', 'NDCG', 'Diversity', 'Novelty'], datasets: [{ label: 'Skor Kinerja Model', data: [0.82, 0.65, 0.78, 0.88, 0.71], backgroundColor: ['rgba(74, 144, 226, 0.6)','rgba(74, 144, 226, 0.6)','rgba(74, 144, 226, 0.6)','rgba(129, 178, 154, 0.6)','rgba(129, 178, 154, 0.6)'], borderColor: ['rgba(74, 144, 226, 1)','rgba(74, 144, 226, 1)','rgba(74, 144, 226, 1)','rgba(129, 178, 154, 1)','rgba(129, 178, 154, 1)'], borderWidth: 1 }] },
                options: { responsive: true, maintainAspectRatio: false, scales: { y: { beginAtZero: true, max: 1.0, title: { display: true, text: 'Skor (0.0 - 1.0)' } } }, plugins: { legend: { display: false }, tooltip: { callbacks: { label: (c) => `${c.dataset.label || ''}: ${c.parsed.y.toFixed(2)}` } }, title: { display: true, text: 'Contoh Skor Metrik Evaluasi' } } }
            });

            // --- DEMO APP LOGIC ---
            const songDatabase = [
                { id: 1, title: "Shape of You", artist: "Ed Sheeran", genre: "Pop", mood: "Semangat", year: 2017, art: "https://placehold.co/300x300/3B82F6/FFFFFF?text=Pop" },
                { id: 2, title: "Blinding Lights", artist: "The Weeknd", genre: "Pop", mood: "Semangat", year: 2019, art: "https://placehold.co/300x300/3B82F6/FFFFFF?text=Pop" },
                { id: 3, title: "Someone You Loved", artist: "Lewis Capaldi", genre: "Pop", mood: "Sedih", year: 2018, art: "https://placehold.co/300x300/3B82F6/FFFFFF?text=Pop" },
                { id: 4, title: "Bohemian Rhapsody", artist: "Queen", genre: "Rock", mood: "Semangat", year: 1975, art: "https://placehold.co/300x300/EF4444/FFFFFF?text=Rock" },
                { id: 5, title: "Smells Like Teen Spirit", artist: "Nirvana", genre: "Rock", mood: "Semangat", year: 1991, art: "https://placehold.co/300x300/EF4444/FFFFFF?text=Rock" },
                { id: 6, title: "Wonderwall", artist: "Oasis", genre: "Rock", mood: "Santai", year: 1995, art: "https://placehold.co/300x300/EF4444/FFFFFF?text=Rock" },
                { id: 7, title: "All the Small Things", artist: "Blink-182", genre: "Pop Punk", mood: "Semangat", year: 1999, art: "https://placehold.co/300x300/F97316/FFFFFF?text=Pop+Punk" },
                { id: 8, title: "Welcome to the Black Parade", artist: "My Chemical Romance", genre: "Pop Punk", mood: "Semangat", year: 2006, art: "https://placehold.co/300x300/F97316/FFFFFF?text=Pop+Punk" },
                { id: 9, title: "Misery Business", artist: "Paramore", genre: "Pop Punk", mood: "Semangat", year: 2007, art: "https://placehold.co/300x300/F97316/FFFFFF?text=Pop+Punk" },
                { id: 10, title: "Master of Puppets", artist: "Metallica", genre: "Metal", mood: "Semangat", year: 1986, art: "https://placehold.co/300x300/1F2937/FFFFFF?text=Metal" },
                { id: 11, title: "Chop Suey!", artist: "System of a Down", genre: "Metal", mood: "Semangat", year: 2001, art: "https://placehold.co/300x300/1F2937/FFFFFF?text=Metal" },
                { id: 12, title: "Duality", artist: "Slipknot", genre: "Metal", mood: "Semangat", year: 2004, art: "https://placehold.co/300x300/1F2937/FFFFFF?text=Metal" },
                { id: 13, title: "Lose Yourself", artist: "Eminem", genre: "Hip-Hop", mood: "Semangat", year: 2002, art: "https://placehold.co/300x300/FBBF24/000000?text=Hip-Hop" },
                { id: 14, title: "Still D.R.E.", artist: "Dr. Dre ft. Snoop Dogg", genre: "Hip-Hop", mood: "Santai", year: 1999, art: "https://placehold.co/300x300/FBBF24/000000?text=Hip-Hop" },
                { id: 15, title: "To Pimp a Butterfly", artist: "Kendrick Lamar", genre: "Hip-Hop", mood: "Fokus", year: 2015, art: "https://placehold.co/300x300/FBBF24/000000?text=Hip-Hop" },
                { id: 16, title: "As It Was", artist: "Harry Styles", genre: "Pop", mood: "Santai", year: 2022, art: "https://placehold.co/300x300/3B82F6/FFFFFF?text=Pop" },
                { id: 17, title: "Fix You", artist: "Coldplay", genre: "Rock", mood: "Sedih", year: 2005, art: "https://placehold.co/300x300/EF4444/FFFFFF?text=Rock" },
                { id: 18, title: "In the End", artist: "Linkin Park", genre: "Metal", mood: "Sedih", year: 2000, art: "https://placehold.co/300x300/1F2937/FFFFFF?text=Metal" },
                { id: 19, title: "I'm Not Okay (I Promise)", artist: "My Chemical Romance", genre: "Pop Punk", mood: "Sedih", year: 2004, art: "https://placehold.co/300x300/F97316/FFFFFF?text=Pop+Punk" },
                { id: 20, title: "Juicy", artist: "The Notorious B.I.G.", genre: "Hip-Hop", mood: "Santai", year: 1994, art: "https://placehold.co/300x300/FBBF24/000000?text=Hip-Hop" },
            ];

            const views = document.querySelectorAll('[data-view]');
            const demoNavLinks = document.querySelectorAll('.demo-nav-link');
            
            const getGuestRecsBtn = document.getElementById('get-guest-recs');
            const guestMoodSelect = document.getElementById('guest-mood');
            const guestGenreSelect = document.getElementById('guest-genre');
            const guestResultsContainer = document.getElementById('guest-results');
            const guestRecsGrid = document.getElementById('guest-recommendations-grid');
            const userRecsGrid = document.getElementById('user-recommendations-grid');
            const userExploreGrid = document.getElementById('user-explore-grid');
            const adminMusicTableBody = document.getElementById('admin-music-table');
            const modal = document.getElementById('modal');
            const modalTitle = document.getElementById('modal-title');
            const modalMessage = document.getElementById('modal-message');
            const modalCloseBtn = document.getElementById('modal-close');

            function showModal(title, message) {
                modalTitle.textContent = title;
                modalMessage.textContent = message;
                modal.classList.remove('hidden');
                setTimeout(() => {
                    modal.querySelector('.modal-backdrop').classList.remove('opacity-0');
                    modal.querySelector('.modal-content').classList.remove('scale-95');
                }, 10);
            }
            function hideModal() {
                 modal.querySelector('.modal-backdrop').classList.add('opacity-0');
                 modal.querySelector('.modal-content').classList.add('scale-95');
                 setTimeout(() => modal.classList.add('hidden'), 300);
            }
            modalCloseBtn.addEventListener('click', hideModal);
            modal.addEventListener('click', (e) => e.target === modal && hideModal());

            function switchView(viewId) {
                views.forEach(view => view.classList.toggle('active', view.id === viewId));
                demoNavLinks.forEach(link => link.classList.toggle('active', link.dataset.nav === viewId));
            }

            demoNavLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    switchView(e.target.dataset.nav);
                });
            });

            function createSongCard(song, withRating = false) {
                const card = document.createElement('div');
                card.className = 'song-card bg-white rounded-lg shadow-md overflow-hidden';
                let ratingHtml = withRating ? `<div class="px-4 py-2 flex justify-around items-center bg-gray-50"><span class="text-xs font-semibold">Beri Rating:</span>${[1,2,3,4,5].map(r => `<button data-rate="${r}" data-song-id="${song.id}" class="rate-btn w-7 h-7 rounded-full text-sm hover:bg-blue-200 transition-colors">${r}</button>`).join('')}</div>` : '';
                card.innerHTML = `<img class="w-full h-48 object-cover" src="${song.art}" alt="${song.title}" onerror="this.onerror=null;this.src='https://placehold.co/300x300/cccccc/ffffff?text=Image+Not+Found';"><div class="p-4"><h4 class="font-bold text-lg truncate">${song.title}</h4><p class="text-gray-600 text-sm truncate">${song.artist}</p><div class="mt-2 text-xs"><span class="inline-block bg-blue-100 text-blue-800 rounded-full px-2 py-1">${song.genre}</span> <span class="inline-block bg-green-100 text-green-800 rounded-full px-2 py-1">${song.mood}</span></div></div>${ratingHtml}`;
                return card;
            }
            
            getGuestRecsBtn.addEventListener('click', () => {
                const recs = songDatabase.filter(s => s.mood === guestMoodSelect.value && s.genre === guestGenreSelect.value).slice(0, 4);
                guestRecsGrid.innerHTML = '';
                if (recs.length > 0) recs.forEach(s => guestRecsGrid.appendChild(createSongCard(s)));
                else guestRecsGrid.innerHTML = `<p class="text-gray-500 sm:col-span-4 text-center">Maaf, tidak ada lagu yang cocok.</p>`;
                guestResultsContainer.classList.remove('hidden');
            });

            function populateUserDashboard() {
                const personalRecs = songDatabase.filter(s => s.genre === 'Rock' || s.genre === 'Metal').slice(0, 4);
                userRecsGrid.innerHTML = '';
                personalRecs.forEach(s => userRecsGrid.appendChild(createSongCard(s)));
                userExploreGrid.innerHTML = '';
                songDatabase.forEach(s => userExploreGrid.appendChild(createSongCard(s, true)));
            }

            document.body.addEventListener('click', (e) => {
                if(e.target.matches('.rate-btn')) {
                    const song = songDatabase.find(s => s.id == e.target.dataset.songId);
                    showModal('Rating Disimpan!', `Anda memberi rating ${e.target.dataset.rate} untuk lagu "${song.title}". Terima kasih!`);
                }
                if (e.target.matches('.admin-action')) {
                    showModal('Fitur Admin', `Aksi "${e.target.dataset.action}" telah diklik. Ini hanya demo.`);
                }
            });

            function populateAdminDashboard() {
                adminMusicTableBody.innerHTML = '';
                songDatabase.slice(0, 5).forEach(s => {
                    const row = adminMusicTableBody.insertRow();
                    row.className = 'bg-white border-b';
                    row.innerHTML = `<td class="px-6 py-4 font-medium text-gray-900">${s.title}</td><td class="px-6 py-4">${s.artist}</td><td class="px-6 py-4 space-x-2"><button class="font-medium text-blue-600 hover:underline admin-action" data-action="edit">Edit</button><button class="font-medium text-red-600 hover:underline admin-action" data-action="delete">Hapus</button></td>`;
                });

                const genreCounts = songDatabase.reduce((acc, s) => { acc[s.genre] = (acc[s.genre] || 0) + 1; return acc; }, {});
                const chartCtx = document.getElementById('genre-chart').getContext('2d');
                new Chart(chartCtx, {
                    type: 'doughnut', data: { labels: Object.keys(genreCounts), datasets: [{ label: 'Jumlah Lagu', data: Object.values(genreCounts), backgroundColor: ['rgba(59, 130, 246, 0.7)','rgba(239, 68, 68, 0.7)','rgba(249, 115, 22, 0.7)','rgba(31, 41, 55, 0.7)','rgba(251, 191, 36, 0.7)'], borderColor: '#ffffff', borderWidth: 2 }] },
                    options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'bottom' } } }
                });
            }

            function initializeDemo() {
                switchView('guest-view');
                populateUserDashboard();
                populateAdminDashboard();
            }

            initializeDemo();
        });
    </script>
</body>
</html>
